export const pokemonTypes = {
	bug: {
		bug: 1,
		dark: 1,
		dragon: 1,
		electric: 1,
		fairy: 1,
		fighting: 0.5,
		fire: 2,
		flying: 2,
		ghost: 1,
		grass: 0.5,
		ground: 0.5,
		ice: 1,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 2,
		steel: 1,
		water: 1,
	},
	dark: {
		bug: 2,
		dark: 0.5,
		dragon: 1,
		electric: 1,
		fairy: 2,
		fighting: 2,
		fire: 1,
		flying: 1,
		ghost: 0.5,
		grass: 1,
		ground: 1,
		ice: 1,
		normal: 1,
		poison: 1,
		psychic: 0,
		rock: 1,
		steel: 1,
		water: 1,
	},
	dragon: {
		bug: 1,
		dark: 1,
		dragon: 2,
		electric: 0.5,
		fairy: 2,
		fighting: 1,
		fire: 0.5,
		flying: 1,
		ghost: 1,
		grass: 0.5,
		ground: 1,
		ice: 2,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 1,
		steel: 1,
		water: 0.5,
	},
	electric: {
		bug: 1,
		dark: 1,
		dragon: 1,
		electric: 0.5,
		fairy: 1,
		fighting: 1,
		fire: 1,
		flying: 0.5,
		ghost: 1,
		grass: 1,
		ground: 2,
		ice: 1,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 1,
		steel: 0.5,
		water: 1,
	},
	fairy: {
		bug: 0.5,
		dark: 0.5,
		dragon: 0,
		electric: 1,
		fairy: 1,
		fighting: 0.5,
		fire: 1,
		flying: 1,
		ghost: 1,
		grass: 1,
		ground: 1,
		ice: 1,
		normal: 1,
		poison: 2,
		psychic: 1,
		rock: 1,
		steel: 2,
		water: 1,
	},
	fighting: {
		bug: 0.5,
		dark: 0.5,
		dragon: 1,
		electric: 1,
		fairy: 2,
		fighting: 1,
		fire: 1,
		flying: 2,
		ghost: 1,
		grass: 1,
		ground: 1,
		ice: 1,
		normal: 1,
		poison: 1,
		psychic: 2,
		rock: 0.5,
		steel: 1,
		water: 1,
	},
	fire: {
		bug: 0.5,
		dark: 1,
		dragon: 1,
		electric: 1,
		fairy: 0.5,
		fighting: 1,
		fire: 0.5,
		flying: 1,
		ghost: 1,
		grass: 0.5,
		ground: 2,
		ice: 0.5,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 2,
		steel: 0.5,
		water: 2,
	},
	flying: {
		bug: 0.5,
		dark: 1,
		dragon: 1,
		electric: 2,
		fairy: 1,
		fighting: 0.5,
		fire: 1,
		flying: 1,
		ghost: 1,
		grass: 0.5,
		ground: 0,
		ice: 2,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 2,
		steel: 1,
		water: 1,
	},
	ghost: {
		bug: 0.5,
		dark: 2,
		dragon: 1,
		electric: 1,
		fairy: 1,
		fighting: 0,
		fire: 1,
		flying: 1,
		ghost: 2,
		grass: 1,
		ground: 1,
		ice: 1,
		normal: 0,
		poison: 0.5,
		psychic: 1,
		rock: 1,
		steel: 1,
		water: 1,
	},
	grass: {
		bug: 2,
		dark: 1,
		dragon: 1,
		electric: 0.5,
		fairy: 1,
		fighting: 1,
		fire: 2,
		flying: 2,
		ghost: 1,
		grass: 0.5,
		ground: 0.5,
		ice: 2,
		normal: 1,
		poison: 2,
		psychic: 1,
		rock: 1,
		steel: 1,
		water: 0.5,
	},
	ground: {
		bug: 1,
		dark: 1,
		dragon: 1,
		electric: 0,
		fairy: 1,
		fighting: 1,
		fire: 1,
		flying: 1,
		ghost: 1,
		grass: 2,
		ground: 1,
		ice: 2,
		normal: 1,
		poison: 0.5,
		psychic: 1,
		rock: 0.5,
		steel: 1,
		water: 2,
	},
	ice: {
		bug: 1,
		dark: 1,
		dragon: 1,
		electric: 1,
		fairy: 1,
		fighting: 2,
		fire: 2,
		flying: 1,
		ghost: 1,
		grass: 1,
		ground: 1,
		ice: 0.5,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 2,
		steel: 2,
		water: 1,
	},
	normal: {
		bug: 1,
		dark: 1,
		dragon: 1,
		electric: 1,
		fairy: 1,
		fighting: 2,
		fire: 1,
		flying: 1,
		ghost: 0,
		grass: 1,
		ground: 1,
		ice: 1,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 1,
		steel: 1,
		water: 1,
	},
	poison: {
		bug: 0.5,
		dark: 1,
		dragon: 1,
		electric: 1,
		fairy: 0.5,
		fighting: 0.5,
		fire: 1,
		flying: 1,
		ghost: 1,
		grass: 0.5,
		ground: 2,
		ice: 1,
		normal: 1,
		poison: 0.5,
		psychic: 2,
		rock: 1,
		steel: 1,
		water: 1,
	},
	psychic: {
		bug: 2,
		dark: 2,
		dragon: 1,
		electric: 1,
		fairy: 1,
		fighting: 0.5,
		fire: 1,
		flying: 1,
		ghost: 2,
		grass: 1,
		ground: 1,
		ice: 1,
		normal: 1,
		poison: 1,
		psychic: 0.5,
		rock: 1,
		steel: 1,
		water: 1,
	},
	rock: {
		bug: 1,
		dark: 1,
		dragon: 1,
		electric: 1,
		fairy: 1,
		fighting: 2,
		fire: 0.5,
		flying: 0.5,
		ghost: 1,
		grass: 2,
		ground: 2,
		ice: 1,
		normal: 0.5,
		poison: 0.5,
		psychic: 1,
		rock: 1,
		steel: 2,
		water: 2,
	},
	steel: {
		bug: 0.5,
		dark: 1,
		dragon: 0.5,
		electric: 1,
		fairy: 0.5,
		fighting: 2,
		fire: 2,
		flying: 0.5,
		ghost: 1,
		grass: 0.5,
		ground: 2,
		ice: 0.5,
		normal: 0.5,
		poison: 0,
		psychic: 0.5,
		rock: 0.5,
		steel: 0.5,
		water: 1,
	},
	water: {
		bug: 1,
		dark: 1,
		dragon: 1,
		electric: 2,
		fairy: 1,
		fighting: 1,
		fire: 0.5,
		flying: 1,
		ghost: 1,
		grass: 2,
		ground: 1,
		ice: 0.5,
		normal: 1,
		poison: 1,
		psychic: 1,
		rock: 1,
		steel: 0.5,
		water: 0.5,
	},
};

export type PokemonType = keyof typeof pokemonTypes;

export function getTypeWeaknesses(type1?: PokemonType, type2?: PokemonType): Record<string, number> {
	/* vulnerable against */
	const weaknesses: Record<string, number> = {};
	for (const type in pokemonTypes) {
		let weakness = 1;
		if (type1) {
			weakness *= pokemonTypes[type1][type as PokemonType];
		}
		if (type2) {
			weakness *= pokemonTypes[type2][type as PokemonType];
		}
		if (weakness > 1) {
			weaknesses[type] = weakness;
		}
	}
	return weaknesses;
}

export function getTypeStrengths(type1?: PokemonType, type2?: PokemonType): Record<string, number> {
	/* effective against */
	const strengths: Record<string, number> = {};
	for (const type in pokemonTypes) {
		let [type_1_str, type_2_str] = [1, 1];
		if (type1) {
			type_1_str *= pokemonTypes[type as PokemonType][type1];
		}
		if (type2) {
			type_2_str *= pokemonTypes[type as PokemonType][type2];
		}
		if (Math.max(type_1_str, type_2_str) > 1) {
			strengths[type] = Math.max(type_1_str, type_2_str);
		}
	}
	return strengths;
}

export function getTypeResistances(type1?: PokemonType, type2?: PokemonType): Record<string, number> {
	/* resistant against */
	const resistances: Record<string, number> = {};
	for (const type in pokemonTypes) {
		let resistance = 1;
		if (type1) {
			resistance *= pokemonTypes[type1][type as PokemonType];
		}
		if (type2) {
			resistance *= pokemonTypes[type2][type as PokemonType];
		}
		if (resistance < 1) {
			resistances[type] = resistance;
		}
	}
	return resistances;
}

export function getTypeWeak(type1?: PokemonType, type2?: PokemonType): Record<string, number> {
	/* weak against */
	const weaknesses: Record<string, number> = {};
	for (const type in pokemonTypes) {
		let [type_1_str, type_2_str] = [1, 1];
		if (type1) {
			type_1_str *= pokemonTypes[type as PokemonType][type1];
		}
		if (type2) {
			type_2_str *= pokemonTypes[type as PokemonType][type2];
		}
		if (Math.min(type_1_str, type_2_str) < 1) {
			weaknesses[type] = Math.min(type_1_str, type_2_str);
		}
	}
	return weaknesses;
}
